{
  "platform": "msmnile",
  "platform_name": "855/855+",
  "framework": 110,
  "alias": {
    "gpu_max_khz": "/sys/class/kgsl/kgsl-3d0/devfreq/max_freq"
  },
  "features": {
    "high_rate": {
      "enable": true,
      "enable_control": "/data/local/tmp/scene_refresh_rate",
      "device_policy": []
    },
    "cpus_control": {
      "enable": true,
      "render_boost": true,
      "logger": false,
      "enable_control": "/data/local/tmp/scene_cpus_control"
    },
    "limiter": {
      "active_interval": 20,
      "inactive_interval": 150,
      "logger": false,
      "params": [
        { "id": "p1:cpu0", "step": -1, "max": 1708800, "min": 1036800, "margin": 400 },
        { "id": "p1:cpu4", "step": -1, "max": 1708800, "min": 1056000, "margin": 300 },
        { "id": "p1:cpu7", "step": -1, "max": 1804800, "min": 1171200, "margin": 300 },

        { "id": "p2:cpu0", "step": -0.5, "max": 1708800, "min": 1478400, "margin": 450 },
        { "id": "p2:cpu4", "step": -0.5, "max": 2227200, "min": 1708800, "margin": 400 },
        { "id": "p2:cpu7", "step": -0.5, "max": 2419200, "min": 1804800, "margin": 400 },

        { "id": "p3:cpu0", "step": -0.5, "max": 1785600, "min": 1478400, "margin": 450 },
        { "id": "p3:cpu4", "step": -0.5, "max": 2419200, "min": 2016000, "margin": 300 },
        { "id": "p3:cpu7", "step": -0.5, "max": 2841600, "min": 2323200, "margin": 300 },


        { "id": "g0:cpu0", "step": -1, "max": 1708800, "min": 1036800, "margin": 400 },
        { "id": "g0:cpu4", "step": -1, "max": 1708800, "turning": 1497600, "min": 1056000, "margin": 300 },
        { "id": "g0:cpu7", "step": -1, "max": 1804800, "turning": 1497600, "min": 1171200, "margin": 300 },

        { "id": "g1:cpu0", "step": -1, "max": 1708800, "min": 1036800, "margin": 400 },
        { "id": "g1:cpu4", "step": -1, "max": 1920000, "turning": 1708800, "min": 1497600, "margin": 350 },
        { "id": "g1:cpu7", "step": -1, "max": 2016000, "turning": 1804800, "min": 1612800, "margin": 350 },

        { "id": "g2:cpu0", "step": -0.5, "max": 1708800, "min": 1478400, "margin": 450 },
        { "id": "g2:cpu4", "step": -0.5, "max": 2227200, "turning": 2016000, "min": 1708800, "margin": 350 },
        { "id": "g2:cpu7", "step": -0.5, "max": 2419200, "turning": 2227200, "min": 1804800, "margin": 350 },

        { "id": "g3:cpu0", "step": -0.5, "max": 1785600, "min": 1478400, "margin": 450 },
        { "id": "g3:cpu4", "step": -0.5, "max": 2419200, "min": 2016000, "margin": 350 },
        { "id": "g3:cpu7", "step": -0.5, "max": 2841600, "min": 2323200, "margin": 350 },


        { "id": "inactive:cpu0","max": 1600000, "min": 844800, "margin": 200 },
        { "id": "inactive:cpu4","max": 1708800, "min": 768000, "margin": 170 },
        { "id": "inactive:cpu7","max": 1920000, "min": 825600, "margin": 180 },

        { "id": "idle:cpu0","max": 1600000, "min": 844800, "margin": 100 },
        { "id": "idle:cpu4","max": 1401600, "min": 768000, "margin": 100 },
        { "id": "idle:cpu7","max": 1497600, "min": 825600, "margin": 100 }
      ]
    }
  },
  "presets": {
    "reset": [
      ["@msm_reset"],
      ["@thermal_threshold", "100000"],
      ["@preset", "ufshc_perf_off", "bw_max"]
    ],
    "bw": [
      ["/sys/class/devfreq/soc:qcom,cpu-llcc-ddr-bw/min_freq"],
      ["/sys/class/devfreq/soc:qcom,cpu-llcc-ddr-bw/max_freq"],
      ["/sys/class/devfreq/soc:qcom,cpu-cpu-llcc-bw/min_freq"],
      ["/sys/class/devfreq/soc:qcom,cpu-cpu-llcc-bw/max_freq"]
    ],
    "ufshc_perf_on": [
      ["/sys/devices/platform/soc/1d84000.ufshc/clkscale_enable", "0"],
      ["/sys/devices/platform/soc/1d84000.ufshc/clkgate_enable", "0"],
      ["/sys/devices/platform/soc/1d84000.ufshc/hibern8_on_idle_enable", "0"],
      ["/sys/class/devfreq/1d84000.ufshc/min_freq", "300000000"]
    ],
    "ufshc_perf_off": [
      ["/sys/devices/platform/soc/1d84000.ufshc/clkscale_enable", "1"],
      ["/sys/devices/platform/soc/1d84000.ufshc/clkgate_enable", "1"],
      ["/sys/devices/platform/soc/1d84000.ufshc/hibern8_on_idle_enable", "1"],
      ["/sys/class/devfreq/1d84000.ufshc/min_freq", "37500000"]
    ],
    "_sched_config": [
      ["/proc/sys/kernel/sched_downmigrate"],
      ["/proc/sys/kernel/sched_upmigrate"],
      ["/proc/sys/kernel/sched_group_downmigrate"],
      ["/proc/sys/kernel/sched_group_upmigrate"]
    ],
    "sched_boost": [
      ["/proc/sys/kernel/sched_boost_top_app"],
      ["/proc/sys/kernel/sched_boost"],
      ["/dev/stune/top-app/schedtune.prefer_idle"],
      ["/dev/stune/top-app/schedtune.boost"]
    ],
    "bw_max": [
      ["@values", "bw", "762", "7980", "2288", "15258"],
      ["@values", "bw", "762", "7980", "2288", "15258"]
    ],
    "cpu7_on": [
      ["$core_ctl_7", "0"],
      ["$max_cpus_cpu7", "1"],
      ["$min_cpus_cpu7", "1"]
    ],
    "cpu7_off": [
      ["$core_ctl_7", "0"],
      ["$min_cpus_cpu7", "0"],
      ["$max_cpus_cpu7", "0"]
    ],
    "cpu7_auto": [
      ["$core_ctl_7", "1"],
      ["$min_cpus_cpu7", "0"],
      ["$max_cpus_cpu7", "1"]
    ],
    "min_freq": [
      ["$cpu_min_0"], ["$cpu_min_4"], ["$cpu_min_7"]
    ],
    "max_freq": [
      ["$cpu_max_0"], ["$cpu_max_4"], ["$cpu_max_7"]
    ],
    "common_active": [
      ["$cpu_max_0", "1785600"],
      ["@preset", "cpu7_on"],
      ["$stune_top_boost", "1"],
      ["@cpuset", "0-3", "0-3", "1-6", "0-7"],
      ["@values", "sched_boost", "1", "0", "0", "0"]
    ],
    "common_inactive": [
      ["$stune_top_boost", "0"],
      ["$stune_top_perf", "0"],
      ["@values", "min_freq", "#300000", "#710400", "#825600"],
      ["@cpuset", "0-3", "0-3", "1-6", "0-7"],
      ["@values", "sched_boost", "0", "0", "0", "0"]
    ],
    "common_gaming": [
      ["@limiters", "NONE"],
      ["@cpuset", "1", "1-3", "0-5", "0-7"]
    ],

    "powersave_active": [
      ["@preset", "common_active"],
      ["@limiters", "p1:cpu0", "p1:cpu4", "p1:cpu7"],
      ["@values", "min_freq", "#844800", "#710400", "#825600"],
      ["@sched_limit", "0 0", "0 5000", "0 5000"]
    ],
    "powersave_inactive": [
      ["@preset", "common_inactive"],
      ["@preset", "cpu7_auto"],
      ["@limiters", "idle:cpu0", "idle:cpu4", "idle:cpu7"],
      ["@sched_limit", "0 0", "0 16000", "0 16000"]
    ],

    "balance_active": [
      ["@preset", "common_active"],
      ["@limiters", "p2:cpu0", "p2:cpu4", "p2:cpu7"],
      ["@values", "min_freq", "#940800", "#710400", "#825600"],
      ["@sched_limit", "0 0", "0 0", "0 0"]
    ],
    "balance_inactive": [
      ["@limiters", "inactive:cpu0", "inactive:cpu4", "inactive:cpu7"],
      ["@preset", "common_inactive"],
      ["@sched_limit", "0 0", "0 0", "0 0"]
    ],

    "performance_active": [
      ["@limiters", "p3:cpu0", "p3:cpu4", "p3:cpu7"],
      ["@preset", "common_active"],
      ["$stune_top_perf", "1"],
      ["@values", "min_freq", "#1036800", "#710400", "#825600"],
      ["@sched_limit", "0 0", "0 0", "0 0"]
    ],
    "performance_inactive": [
      ["@limiters", "p1:cpu0", "p1:cpu4", "p1:cpu7"],
      ["@preset", "common_inactive"],
      ["@sched_limit", "0 0", "0 0", "0 0"]
    ],

    "fast_active": [
      ["@limiters", "NONE"],
      ["@preset", "common_active"],
      ["@values", "min_freq", "#1305600", "#1497600", "#1497600"],
      ["@values", "max_freq", "#1785600", "#2419200", "#3200000"],
      ["@sched_limit", "8000 0", "8000 0", "8000 0"]
    ],
    "fast_inactive": [
      ["@limiters", "NONE"],
      ["@preset", "common_inactive"],
      ["@limiters", "p3:cpu0", "p3:cpu4", "p3:cpu7"],
      ["@sched_limit", "0 0", "0 0", "0 0"]
    ]
  },
  "schemes": {
    "powersave": {
      "call": [
        ["@preset", "reset"],
        ["@preset", "powersave_active"],
        ["@repeat", "sched_config", "85 85", "96 96", "160", "260"],
        ["@gpu_freq", "min", "610MHz"]
      ],
      "game": [
        ["@preset", "common_gaming"]
      ]
    },
    "balance": {
      "call": [
        ["@preset", "reset"],
        ["@preset", "balance_active"],
        ["@repeat", "sched_config", "78 85", "89 96", "120", "200"],
        ["@gpu_freq", "min", "610MHz"]
      ],
      "game": [
        ["@preset", "common_gaming"],
        ["$mi_thermal", "13"]
      ]
    },
    "performance": {
      "call": [
        ["@preset", "reset"],
        ["@preset", "performance_active"],
        ["@repeat", "sched_config", "62 78", "72 85", "85", "100"],
        ["@gpu_freq", "min", "max"]
      ],
      "game": [
        ["@preset", "common_gaming"],
        ["$mi_thermal", "13"]
      ]
    },
    "fast": {
      "call": [
        ["@preset", "reset"],
        ["@preset", "fast_active"],
        ["@repeat", "sched_config", "55 60", "65 73", "300", "400"],
        ["@gpu_freq", "min", "max"]
      ],
      "game": [
        ["@preset", "common_gaming"],
        ["$mi_thermal", "10"]
      ]
    }
  },
  "apps": [
    {
      "friendly": "极速响应",
      "categories": ["Launcher"],
      "import": "_Launcher.json"
    },
    {
      "friendly": "扫码",
      "categories": ["Scanner"],
      "import": "_Scanner.json"
    },
    {
      "friendly": "相机",
      "categories": ["Camera"],
      "import": "_Camera.json"
    },
    {
      "friendly": "狗屎/毒瘤",
      "categories": ["MiniProgram"],
      "import": "_AppBrand.json"
    },
    {
      "friendly": "待机",
      "packages": ["standby"],
      "call": [
        ["@limiters", "NONE"]
      ]
    },
    {
      "friendly": "All",
      "packages": ["*"],
      "import": "_Apps.json"
    }
  ],
  "games": [
    {
      "friendly": "原神",
      "categories": ["GenshinImpact"],
      "import": "_GenshinImpact.json"
    },
    {
      "friendly": "和平精英",
      "packages": [
        "com.tencent.tmgp.pubgmhd",
        "com.tencent.ig"
      ],
      "import": "_PUBG.json"
    },
    {
      "friendly": "QQ飞车",
      "packages": ["com.tencent.tmgp.speedmobile"],
      "cpuset": {
        "interval": 2000,
        "unity_main": "7",
        "other": "0-6"
      }
    },
    {
      "friendly": "王者荣耀/LOL",
      "packages": ["com.tencent.tmgp.sgame", "com.garena.game.kgtw", "com.tencent.lolm"],
      "import": "_SGAME.json"
    },
    {
      "friendly": "All",
      "packages": ["*"]
    }
  ]
}