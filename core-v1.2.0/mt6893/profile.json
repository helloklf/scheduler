{
  "platform": "mt6893",
  "platform_name": "D1200",
  "framework": 120,
  "alias": {
    "min_cpu_freq": "/proc/ppm/policy/hard_userlimit_min_cpu_freq",
    "max_cpu_freq": "/proc/ppm/policy/hard_userlimit_max_cpu_freq",
    "gpu_dvfs_margin": "/sys/kernel/ged/hal/timer_base_dvfs_margin",
    "gpu_max_opp": "/sys/kernel/ged/hal/custom_upbound_gpu_freq",
    "util_max_top": "/dev/stune/top-app/schedtune.util.max",
    "util_max_fg": "/dev/stune/foreground/schedtune.util.max",
    "util_max_bg": "/dev/stune/background/schedtune.util.max",
    "util_min_top": "/dev/stune/top-app/schedtune.util.min",
    "util_min_fg": "/dev/stune/foreground/schedtune.util.min",
    "util_min_bg": "/dev/stune/background/schedtune.util.min",
    "deisolation": "/sys/devices/system/cpu/sched/set_sched_deisolation",
    "sspm": "/proc/driver/thermal/sspm_thermal_throttle",
    "fpsgo_force": "/sys/kernel/fpsgo/common/force_onoff",
    "fpsgo_enable": "/sys/kernel/fpsgo/common/fpsgo_enable"
  },
  "schemes": {
    "powersave": {
      "call": [
        ["@perf_turbo", "mt6893", "off", "27"],
        ["@thermal_threshold", "-1"]
      ]
    },
    "balance": {
      "call": [
        ["@perf_turbo", "mt6893", "off", "19"],
        ["@thermal_threshold", "-1"]
      ]
    },
    "performance": {
      "call": [
        ["@perf_turbo", "mt6893", "on", "10"],
        ["@thermal_threshold", "-1"]
      ]
    },
    "fast": {
      "call": [
        ["@perf_turbo", "mt6893", "extreme", "0"],
        ["@thermal_threshold", "-1"]
      ]
    },
    "pedestal": {
      "call": [
        ["@perf_turbo", "mt6893", "extreme", "0"],
        ["@thermal_threshold", "-1"]
      ]
    }
  },
  "apps": [
    {
      "friendly": "原神",
      "match": ["miHoYo"],
      "packages": [
        "com.miHoYo.Yuanshen",
        "com.miHoYo.ys.mi",
        "com.miHoYo.ys.bilibili",
        "com.miHoYo.GenshinImpact"
      ],
      "stop_on": ["leave"],
      "affinity": {
        "unity_main": "80",
        "comm": {
          "40": ["UnityGfx"],
          "30": ["UnityMultiRende", "UnityPreload", "mali-cmar-backe", "mali-event-", "mali-cpu-", "mali-mem-", "NativeThread"],
          "3F": ["MIHOYO_NETWORK", "FMOD", "UnityChoreograp", "ged-swd", "AsyncReadManage", "Worker Thread"],
          "F": ["AudioTrack", "Audio", "tp_schedule"]
        },
        "other": "f"
      },
      "sensors": [
        {
          "sensor": "/sys/class/power_supply/charger/online",
          "disable": true,
          "interval": 1000,
          "rules": [
            {
              "threshold": [-1, 1],
              "note": "[sensor] < value1 && [sensor] >= value2",
              "enter": [
                ["/sys/devices/system/cpu/eas/enable", "0"],
                ["$stune_top_perf", "1"],
                ["$stune_top_boost", "100"],
                ["$max_cpu_freq", "0 2000000|1 2600000|2 3000000"],
                ["$min_cpu_freq", "0 2000000|1 2600000|2 2600000"]
              ]
            },
            {
              "threshold": [1, 0],
              "enter": []
            }
          ]
        },
        {
          "sensor": "/sys/devices/platform/charger/power_supply/battery/capacity",
          "disable": true,
          "interval": 5000,
          "rules": [
            {
              "threshold": [-1, 11],
              "note": "[capacity] < MAX && [capacity] >= 15, Removing GPU restrictions",
              "enter": [
                ["/proc/mali/dvfs_enable", "1"],
                ["/proc/gpufreq/gpufreq_opp_freq", "0"]
              ]
            },
            {
              "threshold": [10, -1],
              "note": "[capacity] < 10 && [capacity] >= MIN, GPU limited to 370MHz",
              "enter": [
                ["/proc/mali/dvfs_enable", "0"],
                ["/proc/gpufreq/gpufreq_opp_freq", "370000"]
              ]
            }
          ]
        }
      ],
      "modes": [
        {
          "mode": ["powersave"],
          "booster": {
            "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
            "duration": 20000,
            "enter": [
              ["$min_cpu_freq", "0 1525000|1 902000|2 659000"],
              ["$max_cpu_freq", "0 2000000|1 1624000|2 1985000"],
              ["$gpu_max_opp", "32"],
              ["$util_max_top", "1024"],
              ["$util_max_bg", "100"],
              ["$util_max_fg", "1024"],
              ["$deisolation", "4|5|6|7"]
            ],
            "exit": [
              ["$min_cpu_freq", "0 500000|1 437000|2 659000"],
              ["$max_cpu_freq", "0 1525000|1 902000|2 921000"],
              ["$gpu_max_opp", "40"],
              ["$util_max_top", "0"],
              ["$util_max_bg", "0"],
              ["$util_max_fg", "0"],
              ["$deisolation", "4|5|6|7"]
            ]
          }
        },
        {
          "mode": ["balance"],
          "booster": {
            "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
            "duration": 30000,
            "enter": [
              ["$min_cpu_freq", "0 1525000|1 902000|2 659000"],
              ["$max_cpu_freq", "0 2000000|1 1855000|2 2284000"],
              ["$gpu_max_opp", "27"],
              ["$util_max_top", "1024"],
              ["$util_max_bg", "100"],
              ["$util_max_fg", "1024"],
              ["$deisolation", "4|5|6|7"]
            ],
            "exit": [
              ["$min_cpu_freq", "0 500000|1 437000|2 659000"],
              ["$max_cpu_freq", "0 1525000|1 902000|2 921000"],
              ["$gpu_max_opp", "40"],
              ["$util_max_top", "0"],
              ["$util_max_bg", "0"],
              ["$util_max_fg", "0"],
              ["$deisolation", "4|5|6|7"]
            ]
          }
        },
        {
          "mode": ["performance"],
          "Call": [
            ["@thermal_threshold", "120000"]
          ],
          "sensors": [
            {
              "sensor": "mtktscpu",
              "disable": false,
              "interval": 100,
              "rules": [
                {
                  "threshold": [-1, 108000],
                  "enter": [ ["$gpu_max_opp", "35"], ["$max_cpu_freq", "1 1451000|2 1482000"] ]
                },
                {
                  "threshold": [107000, 103500],
                  "enter": [ ["$gpu_max_opp", "32"], ["$max_cpu_freq", "1 1740000|2 1998000"] ]
                },
                {
                  "threshold": [103000, 98500],
                  "enter": [ ["$gpu_max_opp", "28"], ["$max_cpu_freq", "1 1985000|2 2284000"] ]
                },
                {
                  "threshold": [98000, 94500],
                  "enter": [ ["$gpu_max_opp", "28"], ["$max_cpu_freq", "1 2200000|2 2463000"] ]
                },
                {
                  "threshold": [94000, 86000],
                  "enter": [ ["$gpu_max_opp", "25"], ["$max_cpu_freq", "1 2600000|2 2600000"] ]
                },
                {
                  "threshold": [80000, -1],
                  "enter": [ ["$gpu_max_opp", "21"], ["$max_cpu_freq", "1 2600000|2 2713000"] ]
                }
              ]
            }
          ],
          "booster": {
            "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
            "duration": 30000,
            "enter": [
              ["$deisolation", "4|5|6|7"]
            ],
            "exit": [
              ["$deisolation", "4|5|6|7"]
            ]
          }
        },
        {
          "mode": ["fast", "pedestal"],
          "sensors": [
            {
              "sensor": "mtktscpu",
              "disable": false,
              "interval": 200,
              "rules": [
                {
                  "threshold": [-1, 110000],
                  "enter": [["$gpu_max_opp", "35"], ["$max_cpu_freq", "1 1451000|2 1482000"]]
                },
                {
                  "threshold": [110000, 105000],
                  "enter": [["$gpu_max_opp", "32"], ["$max_cpu_freq", "1 1740000|2 1998000"]]
                },
                {
                  "threshold": [105000, 100000],
                  "enter": [["$gpu_max_opp", "32"], ["$max_cpu_freq", "1 1985000|2 2284000"]]
                },
                {
                  "threshold": [100000, 95000],
                  "enter": [["$gpu_max_opp", "28"], ["$max_cpu_freq", "1 2354000|2 2600000"]]
                },
                {
                  "threshold": [95000, 90000],
                  "enter": [["$gpu_max_opp", "21"], ["$max_cpu_freq", "1 2600000|2 2713000"]]
                },
                {
                  "threshold": [83000, -1],
                  "enter": [["$gpu_max_opp", "07"], ["$max_cpu_freq", "1 2600000|2 3000000"]]
                }
              ]
            }
          ],
          "Call": [
            ["@thermal_threshold", "120000"]
          ],
          "booster": {
            "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
            "duration": 30000,
            "enter": [
              ["$deisolation", "4|5|6|7"]
            ],
            "exit": [
              ["$deisolation", "4|5|6|7"]
            ]
          }
        }
      ]
    },
    {
      "friendly": "幻塔",
      "match": ["hotta"],
      "packages": [
        "com.dw.h5yvzr.yt",
        "com.pwrd.hotta.laohu",
        "com.hottagames.hotta.bilibili",
        "com.hottagames.hotta.mi"
      ],
      "stop_on": ["leave", "scene"],
      "sensors": [],
      "modes": [
        {
          "mode": ["*"],
          "affinity": {
            "interval": 1000,
            "comm": {
              "80": ["GameThread"],
              "70": ["RenderThread", "RHIThread"]
            },
            "other": "ff"
          },
          "booster": {
            "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
            "duration": 20000,
            "enter": [
              ["$util_max_top", "1024"],
              ["$util_max_bg", "100"],
              ["$util_max_fg", "1024"],
              ["$deisolation", "4|5|6|7"]
            ],
            "exit": [
              ["$util_max_bg", "0"],
              ["$deisolation", "4|5|6|7"]
            ]
          }
        }
      ]
    },
    {
      "friendly": "和平精英",
      "match": ["pubgmhd"],
      "packages": [
        "com.tencent.tmgp.pubgmhd",
        "com.tencent.ig"
      ],
      "stop_on": ["leave", "scene"],
      "sensors": [],
      "affinity": {
        "interval": 1000,
        "comm": {
          "80": ["RenderThread"],
          "70": ["Thread-", "TaskGraphNP"]
        },
        "other": "7f"
      },
      "modes": [
        {
          "mode": ["powersave"],
          "affinity": {
            "interval": 1000,
            "comm": {
              "F0": ["RenderThread"],
              "70": ["Thread-", "TaskGraphNP"]
            },
            "other": "7f"
          }
        },
        {
          "mode": ["performance"],
          "booster": {
            "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
            "duration": 2000,
            "enter": [ ["$stune_top_boost", "10"] ],
            "exit": [ ["$sched_boost", "0"] ]
          }
        },
        {
          "mode": ["fast"],
          "booster": {
            "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
            "duration": 2000,
            "enter": [ ["$stune_top_boost", "60"] ],
            "exit": [ ["$sched_boost", "0"] ]
          }
        }
      ]
    },
    {
      "friendly": "王者荣耀/LOL",
      "packages": ["com.tencent.tmgp.sgame", "com.garena.game.kgtw", "com.tencent.lolm"],
      "stop_on": ["leave", "scene"],
      "sensors": [],
      "affinity": {
        "interval": 1000,
        "comm": {
          "80": ["UnityMain", "UnityPreload"],
          "70": ["NativeThread", "Thread-","UnityGfx", "UnityMultiRende", "Worker Thread"],
          "7F": ["Audio", "NDK Media", "GVoice", "FMOD mixer", "FMOD stream", "ff_read"]
        },
        "other": "7F"
      },
      "modes": [{
        "mode": ["powersave", "balance"],
        "call": [
          ["@thermal_disguise", "true"]
        ],
        "booster": {
          "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
          "duration": 3000,
          "enter": [
            ["$core_ctl_4", "0"],
            ["$core_ctl_7", "0"],
            ["$util_max_top", "1024"],
            ["$util_max_bg", "100"],
            ["$util_max_fg", "1024"],
            ["$deisolation", "4|5|6|7"],
            ["$min_cpu_freq", "1 1537000|2 921000"]
          ],
          "exit": [
            ["$util_max_top", "1024"],
            ["$util_max_fg", "1024"],
            ["$deisolation", "4|5|6|7"],
            ["$min_cpu_freq", "1 902000|2 659000"]
          ]
        }
      },{
        "mode": ["performance"],
        "call": [
          ["@thermal_disguise", "true"]
        ],
        "booster": {
          "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
          "duration": 3000,
          "enter": [
            ["$core_ctl_4", "0"],
            ["$core_ctl_7", "0"],
            ["$util_max_top", "1024"],
            ["$util_max_bg", "100"],
            ["$util_max_fg", "1024"],
            ["$deisolation", "4|5|6|7"],
            ["$min_cpu_freq", "1 1451000|2 1482000"]
          ],
          "exit": [
            ["$util_max_top", "1024"],
            ["$util_max_fg", "1024"],
            ["$deisolation", "4|5|6|7"],
            ["$min_cpu_freq", "1 902000|2 921000"]
          ]
        }
      }, {
        "mode": ["fast"],
        "call": [
          ["@thermal_disguise", "true"],
          ["$gpu_dvfs_margin", "25"]
        ],
        "booster": {
          "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
          "duration": 2000,
          "enter": [
            ["$deisolation", "4|5|6|7"]
          ],
          "batter": 6,
          "exit": [
            ["$deisolation", "4|5|6|7"]
          ]
        }
      },{
        "mode": ["pedestal"],
        "call": [
          ["@thermal_disguise", "true"]
        ],
        "affinity": {
          "interval": 1000,
          "comm": {
            "80": ["UnityMain", "UnityPreload"],
            "70": ["NativeThread", "Thread-","UnityGfx", "UnityMultiRende", "Worker Thread"],
            "7F": ["Audio", "NDK Media", "GVoice", "FMOD mixer", "FMOD stream", "ff_read"]
          },
          "other": "7F"
        },
        "booster": {
          "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
          "duration": 2000,
          "enter": [
            ["$deisolation", "4|5|6|7"],
            ["$stune_top_boost", "10"]
          ],
          "batter": 6,
          "infinite": [
            ["$stune_top_boost", "30"]
          ],
          "exit": [
            ["$deisolation", "4|5|6|7"]
          ]
        }
      }]
    },
    {
      "friendly": "APEX",
      "packages": ["com.levelinfinite.apexlegendsmobile", "com.ea.gp.apexlegendsmobilefps", "com.tw.fivexgames.apexlegendsmobile"],
      "call": [
        ["$dcs_mode", "0"],
        ["$mi_thermal", "13"]
      ],
      "affinity": {
        "heavy_thread": "Thread-",
        "heavy_mask": "80",
        "comm": {
          "70": ["RHIThread", "RenderThread", "TaskGraphNP", "NativeThread", "MainThread-UE4"]
        },
        "other": "7F"
      }
    },
    {
      "friendly": "抖音、西瓜、快手",
      "packages": ["com.ss.android.ugc.aweme", "com.ss.android.ugc.aweme.lite", "com.ss.android.article.video", "com.smile.gifmaker"],
      "stop_on": [],
      "sensors": [],
      "modes": [{
        "mode": ["powersave"],
        "booster": {
          "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
          "duration": 2000,
          "enter": [
            ["$max_cpu_freq", "0 1725000|1 1855000|2 1820000"],
            ["$min_cpu_freq", "0 1450000|1 1537000|2 1258000"],
            ["$cpuset_top", "0-7"],
            ["$cpuset_fg", "0-7"],
            ["$util_max_fg", "1024"],
            ["$util_min_fg", "0"],
            ["$util_max_top", "1024"],
            ["$util_min_top", "0"],
            ["$util_min_bg", "1024"],
            ["$util_max_bg", "0"]
          ],
          "exit": [
            ["$util_max_fg", "100"],
            ["$util_min_fg", "0"],
            ["$util_max_top", "1024"],
            ["$util_min_top", "0"],
            ["$max_cpu_freq", "0 1725000|1 902000|2 659000"],
            ["$min_cpu_freq", "0 1350000|1 437000|2 659000"],
            ["$stune_top_boost", "0"],
            ["$stune_top_perf", "0"],
            ["$cpuset_top", "0-6"],
            ["$cpuset_fg", "0-6"]
          ]
        }
      }, {
        "mode": ["balance"],
        "booster": {
          "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
          "duration": 2000,
          "enter": [
            ["$max_cpu_freq", "0 1800000|1 1985000|2 2284000"],
            ["$min_cpu_freq", "0 1450000|1 1537000|2 1370000"],
            ["$cpuset_top", "0-7"],
            ["$cpuset_fg", "0-7"],
            ["$util_max_fg", "1024"],
            ["$util_min_fg", "0"],
            ["$util_max_top", "1024"],
            ["$util_min_top", "0"],
            ["$util_min_bg", "1024"],
            ["$util_max_bg", "0"]
          ],
          "exit": [
            ["$util_max_fg", "200"],
            ["$util_min_fg", "0"],
            ["$util_max_top", "1024"],
            ["$util_min_top", "0"],
            ["$max_cpu_freq", "0 1725000|1 1624000|2 659000"],
            ["$min_cpu_freq", "0 1450000|1 437000|2 659000"],
            ["$stune_top_boost", "0"],
            ["$stune_top_perf", "0"],
            ["$cpuset_top", "0-6"],
            ["$cpuset_fg", "0-6"]
          ]
        }
      }]
    },
    {
      "friendly": "视频应用",
      "packages": [
        "tv.danmaku.bili",
        "com.tencent.qqlive",
        "com.ss.android.article.video",
        "com.qiyi.video",
        "com.qiyi.video.lite",
        "com.qiyi.video.sdkplayer",
        "com.dianshijia.newlive",
        "com.duowan.kiwi",
        "air.tv.douyu.android",
        "com.douyu.rush",
        "com.youku.phone",
        "org.telegram.messenger",
        "com.hunantv.imgo.activity"
      ],
      "stop_on": [],
      "sensors": [],
      "modes": [{
        "mode": ["powersave"],
        "booster": {
          "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
          "duration": 2000,
          "enter": [
            ["$max_cpu_freq", "0 1725000|1 1622000|2 1632000"],
            ["$min_cpu_freq", "0 1450000|1 1162000|2 1258000"],
            ["$cpuset_top", "0-7"],
            ["$cpuset_fg", "0-7"],
            ["$util_max_fg", "1024"],
            ["$util_min_fg", "0"],
            ["$util_max_top", "1024"],
            ["$util_min_top", "0"],
            ["$util_min_bg", "1024"],
            ["$util_max_bg", "0"]
          ],
          "exit": [
            ["$util_max_fg", "100"],
            ["$util_min_fg", "0"],
            ["$util_max_top", "1024"],
            ["$util_min_top", "0"],
            ["$max_cpu_freq", "0 1725000|1 1162000|2 659000"],
            ["$min_cpu_freq", "0 1350000|1 437000|2 659000"],
            ["$stune_top_boost", "0"],
            ["$stune_top_perf", "0"],
            ["$cpuset_top", "0-6"],
            ["$cpuset_fg", "0-6"]
          ]
        }
      }, {
        "mode": ["balance"],
        "booster": {
          "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
          "duration": 2000,
          "enter": [
            ["$max_cpu_freq", "0 1800000|1 1985000|2 2284000"],
            ["$min_cpu_freq", "0 1450000|1 1335000|2 1370000"],
            ["$cpuset_top", "0-7"],
            ["$cpuset_fg", "0-7"],
            ["$util_max_fg", "1024"],
            ["$util_min_fg", "0"],
            ["$util_max_top", "1024"],
            ["$util_min_top", "0"],
            ["$util_min_bg", "1024"],
            ["$util_max_bg", "0"]
          ],
          "exit": [
            ["$util_max_fg", "200"],
            ["$util_min_fg", "0"],
            ["$util_max_top", "1024"],
            ["$util_min_top", "0"],
            ["$max_cpu_freq", "0 1725000|1 1624000|2 659000"],
            ["$min_cpu_freq", "0 1450000|1 437000|2 659000"],
            ["$stune_top_boost", "0"],
            ["$stune_top_perf", "0"],
            ["$cpuset_top", "0-6"],
            ["$cpuset_fg", "0-6"]
          ]
        }
      }]
    },
    {
      "friendly": "极速响应",
      "packages": [
        "com.miui.home",
        "com.meizu.flyme.launcher",
        "net.oneplus.launcher",
        "com.oppo.launcher",
        "ch.deletescape.lawnchair.ci",
        "com.mi.android.globallauncher",
        "com.teslacoilsw.launcher",
        "com.android.quicksearchbox",
        "net.oneplus.h2launcher",
        "com.oneplus.hydrogen.launcher",
        "com.microsoft.launcher",
        "org.lineageos.trebuchet",
        "org.mokee.lawnchair",
        "com.google.android.apps.nexuslauncher"
      ],
      "stop_on": [],
      "sensors": [],
      "modes": [{
        "mode": ["powersave"],
        "booster": {
          "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
          "duration": 3000,
          "enter": [
            ["$cpuset_top", "0-7"],
            ["$cpuset_fg", "0-7"],
            ["$min_cpu_freq", "0 1250000|1 1335000|2 1482000"],
            ["$max_cpu_freq", "0 2000000|1 1985000|2 2284000"],
            ["$gpu_dvfs_margin", "40"],
            ["$util_max_top", "1024"],
            ["$util_max_bg", "1024"],
            ["$util_max_fg", "1024"],
            ["$deisolation", "4|5|6|7"]
          ],
          "exit": [
            ["$min_cpu_freq", "0 500000|1 437000|2 659000"],
            ["$max_cpu_freq", "0 1725000|1 1622000|2 1632000"],
            ["$gpu_dvfs_margin", "10"],
            ["$deisolation", "4|5|6|7"]
          ]
        }
      },{
        "mode": ["balance"],
        "booster": {
          "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
          "duration": 3000,
          "enter": [
            ["$cpuset_top", "0-7"],
            ["$cpuset_fg", "0-7"],
            ["$min_cpu_freq", "0 1250000|1 1335000|2 1482000"],
            ["$max_cpu_freq", "0 2000000|1 2200000|2 2600000"],
            ["$gpu_dvfs_margin", "50"],
            ["$deisolation", "4|5|6|7"]
          ],
          "exit": [
            ["$min_cpu_freq", "0 500000|1 437000|2 659000"],
            ["$max_cpu_freq", "0 1800000|1 1985000|2 2284000"],
            ["$gpu_dvfs_margin", "10"],
            ["$deisolation", "4|5|6|7"]
          ]
        }
      },{
        "mode": ["performance"],
        "booster": {
          "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
          "duration": 3000,
          "enter": [
            ["$cpuset_top", "0-7"],
            ["$cpuset_fg", "0-7"],
            ["$min_cpu_freq", "0 1625000|1 1624000|2 1632000"],
            ["$max_cpu_freq", "0 2000000|1 2600000|2 3000000"],
            ["$gpu_dvfs_margin", "70"],
            ["$deisolation", "4|5|6|7"]
          ],
          "exit": [
            ["$min_cpu_freq", "0 500000|1 437000|2 659000"],
            ["$max_cpu_freq", "0 2000000|1 2354000|2 2713000"],
            ["$gpu_dvfs_margin", "15"],
            ["$deisolation", "4|5|6|7"]
          ]
        }
      },{
        "mode": ["fast"],
        "booster": {
          "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
          "duration": 3000,
          "enter": [
            ["$gpu_dvfs_margin", "130"],
            ["$deisolation", "4|5|6|7"]
          ],
          "exit": [
            ["$gpu_dvfs_margin", "35"],
            ["$deisolation", "4|5|6|7"]
          ]
        }
      }]
    },
    {
      "friendly": "扫码",
      "packages": [
        "com.tencent.mm.plugin.scanner.ui.BaseScanUI",
        "com.tencent.mobileqq.olympic.activity.ScanTorchActivity",
        "com.tencent.mobileqq.olympic.activity.ScanTorchActivity",
        "com.alipay.mobile.scan.as.main.MainCaptureActivity",
        "com.jd.lib.scan.lib.zxing.client.android.CaptureActivity",
        "com.etao.feimagesearch.capture.CaptureActivity"
      ],
      "call": [
        ["$util_max_top", "1024"],
        ["$util_max_bg", "100"],
        ["$util_max_fg", "1024"],
        ["@cpuset", "0", "0-4", "0-7", "0-7"],
        ["$max_cpu_freq", "0 2000000|1 2600000|2 2600000"],
        ["$min_cpu_freq", "0 1725000|1 1855000|2 1820000"],
        ["$mi_thermal", "10"]
      ]
    },
    {
      "friendly": "相机",
      "packages": [
        "com.tencent.mm.plugin.recordvideo.activity.MMRecordUI",
        "com.tencent.aelight.camera.aebase.QIMCameraCaptureActivity",
        "dov.com.qq.im.QIMCameraCaptureActivity",
        "com.googleCamera.Wichaya8",
        "com.accordion.analogcam.cn",
        "org.codeaurora.snapcam",
        "com.android.camera",
        "com.xiaomi.scanner",
        "com.blink.academy.protake",
        "com.benqu.wuta",
        "com.gorgeous.lite",
        "com.kwai.m2u",
        "com.meitu.meiyancamera",
        "com.yiruike.sodacn.android",
        "com.lemon.faceu",
        "com.mt.mtxx.mtxx"
      ],
      "call": [
        ["$util_max_top", "1024"],
        ["$util_max_bg", "100"],
        ["$util_max_fg", "1024"],
        ["@cpuset", "0-1", "0-4", "0-7", "0-7"]
      ],
      "modes": [{
        "mode": ["powersave", "balance"],
        "booster": {
          "events": ["touch", "buttons", "qpnp_pon", "synaptics", "uinput-fpc", "gpio-keys", "mtk-pmic-keys", "Headset", "mtk-kpd"],
          "duration": 3000,
          "idle_delay": 8000,
          "enter": [
            ["$max_cpu_freq", "0 2000000|1 2600000|2 2600000"],
            ["$min_cpu_freq", "0 1725000|1 1855000|2 1820000"]
          ],
          "exit": [
            ["$max_cpu_freq", "0 2000000|1 1985000|2 2141000"],
            ["$min_cpu_freq", "0 1000000|1 700000|2 659000"]
          ]
        }
      }]
    },
    {
      "friendly": "狗屎/毒瘤",
      "packages": [
        "com.tencent.mm:appbrand",
        "com.tencent.mm:toolsmp"
      ],
      "modes": [{
        "mode": ["powersave", "balance"],
        "call": [
          ["$stune_top_boost", "10"],
          ["$util_max_top", "1024"],
          ["$util_max_bg", "100"],
          ["$util_max_fg", "1024"],
          ["@cpuset", "0", "0-4", "0-7", "0-7"],
          ["$max_cpu_freq", "0 2000000|1 2400000|2 2400000"],
          ["$min_cpu_freq", "0 1450000|1 1046000|2 1108000"],
          ["$mi_thermal", "10"]
        ]
      }]
    },
    {
      "friendly": "All",
      "packages": ["*"],
      "stop_on": [],
      "sensors": [
        {
          "sensor": "/sys/class/power_supply/charger/online",
          "disable": true,
          "interval": 1000,
          "rules": [
            {
              "threshold": [-1, 1],
              "note": "[sensor] < value1 && [sensor] >= value2",
              "enter": [
                ["/sys/devices/system/cpu/eas/enable", "0"],
                ["$stune_top_perf", "1"],
                ["$stune_top_boost", "100"],
                ["$max_cpu_freq", "0 2000000|1 2600000|2 3000000"],
                ["$min_cpu_freq", "0 2000000|1 2600000|2 2600000"]
              ]
            },
            {
              "threshold": [1, 0],
              "enter": []
            }
          ]
        }
      ],
      "modes": [{
        "mode": ["powersave"],
        "booster": {
          "events": ["touch", "buttons", "synaptics", "uinput-fpc", "gpio-keys"],
          "duration": 5000,
          "enter": [
            ["$stune_top_boost", "10"],
            ["$util_max_top", "1024"],
            ["$util_max_bg", "100"],
            ["$util_max_fg", "1024"],
            ["$deisolation", "4|5|6|7"]
          ],
          "exit": [
            ["$deisolation", "4|5|6|7"]
          ]
        }
      }, {
        "mode": ["balance"],
        "booster": {
          "events": ["touch", "buttons", "synaptics", "uinput-fpc", "gpio-keys"],
          "duration": 3000,
          "enter": [
            ["$stune_top_boost", "10"],
            ["$deisolation", "4|5|6|7"]
          ],
          "exit": [
            ["$deisolation", "4|5|6|7"]
          ]
        }
      }, {
        "mode": ["performance", "fast", "pedestal"],
        "disable": true,
        "booster": {
          "events": ["touch", "buttons", "synaptics", "uinput-fpc", "gpio-keys"],
          "duration": 2000,
          "enter": [
            ["$stune_top_boost", "100"],
            ["$sched_boost", "2"],
            ["$deisolation", "4|5|6|7"]
          ],
          "exit": [
            ["$deisolation", "4|5|6|7"]
          ]
        }
      }]
    }
  ]
}